# 游戏测试说明

## 测试脚本说明

测试脚本会模拟4个玩家进行两局完整的德州扑克游戏，验证：
- 房间创建和加入
- 游戏开始
- 多轮下注（过牌、跟注、加注、弃牌）
- 游戏结束和结算
- 第二局游戏开始
- 无panic或死锁

## 运行测试

### 方法1：使用测试脚本
```bash
# 1. 确保服务器正在运行
./start.sh

# 2. 在另一个终端运行测试
./test_simple.sh
```

### 方法2：直接运行
```bash
# 1. 确保服务器正在运行
./start.sh

# 2. 运行测试
go run -tags test test_game.go test_runner.go
```

## 测试输出

测试会输出详细的日志，包括：
- ✅ 玩家连接状态
- ✅ 房间创建和加入
- ✅ 游戏开始和结束
- ✅ 玩家行动（过牌、跟注、加注、弃牌）
- 📊 游戏阶段变化
- 🎉 获胜者信息

如果测试成功完成，会显示：
```
=== 测试完成 ===
✅ 两局游戏流程测试完成，未发现panic
```

## 注意事项

1. 测试需要服务器正在运行
2. 测试会自动模拟玩家行动，无需手动操作
3. 测试会运行约1-2分钟
4. 如果测试过程中出现panic，会在日志中显示错误信息
